CONSTANTS
    Server      = {"s1", "s2", "s3"}
    Value       = {1, 2}
    \* Follower    = "Follower"
    \* Candidate   = "Candidate"
    \* Leader      = "Leader"
    \* RequestVoteRequest      =   "RequestVoteRequest"
    \* RequestVoteResponse     =   "RequestVoteResponse"
    \* AppendEntriesRequest    =   "AppendEntriesRequest"
    \* AppendEntriesResponse   =   "AppendEntriesResponse"
    
\* SYMMETRY perms
\* VIEW vars

INIT Init
\* NEXT NextAsyncCrash
NEXT Next

\* General constraints to get to interesting parts
\* of the state space quickly
\* CONSTRAINTS
\*     BoundedInFlightMessages
\*     BoundedRequestVote
\*     BoundedLogSize
\*     BoundedRestarts
\*     BoundedTimeouts
\*     BoundedTerms
\*     BoundedClientRequests
\*     BoundedTriedMembershipChanges
\*     BoundedMembershipChanges
\*     ElectionsUncontested
\*     CleanStartUntilFirstRequest
\*     CleanStartUntilTwoLeaders

\* Trace-specific constraints
CONSTRAINTS 
    \* CommitWhenConcurrentLeaders_constraint
    \* CommitWhenConcurrentLeaders_unique
    \* MajorityOfClusterRestarts_constraint
ACTION_CONSTRAINTS
    \* CommitWhenConcurrentLeaders_action_constraint

\* Test cases
INVARIANTS
    \* BoundedTrace
    \* FirstBecomeLeader
    \* FirstCommit
    \* LeadershipChange
    \* ConcurrentLeaders
    \* EntryCommitted
    \* MajorityOfClusterRestarts
    \* CommitWhenConcurrentLeaders
    \* MembershipChange
    \* MultipleMembershipChanges
    \* MultipleMembershipChangesCommit
    \* AddSucessful
    \* AddCommits
    \* MembershipChangeCommits
    \* NewlyJoinedBecomeLeader
    \* LeaderChangesDuringConfChange

\* INVARIANT TargetLength
\* INVARIANT TargetSomeLeader
CONSTRAINT ConstrHist
INVARIANT TargetHist
\* CHECK_DEADLOCK FALSE

\* Raft properties
\* INVARIANTS
\*     LeaderVotesQuorum
\*     CandidateTermNotInLog
\*     ElectionSafety
\*     LogMatching
\*     VotesGrantedInv
\*     QuorumLogInv
\*     MoreUpToDateCorrect
\*     LeaderCompleteness

POSTCONDITION Post

ALIAS Alias
